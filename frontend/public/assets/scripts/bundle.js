(()=>{"use strict";(()=>{function e({name:e,template:a,data:s={},hooks:t={},handlers:n={}}){(function(e){const a=[];return null!=(e=e.match(/{{([^}}]*)}}/gm))&&e.forEach((e=>{e=e.replace("{{","").replace("}}",""),a.push(e)})),a})(a).forEach((e=>{s[e]=null!=(e=s[e])?e:""})),s._stateVars=Object.keys(s),a=function(e,a){var s;let t=e;return null!=(s=e.match(/[a-zA-Z-]*="{{[^}}]*}}"/gm))&&s.forEach((e=>{var[s,n]=e.split("="),n=`has-lfdeps lfdep-${s}-${n=n.replace('"{{',"").replace('}}"',"")} ${s}="${null!=(s=a[n])?s:""}"`;t=t.replace(e,n)})),null!=(s=e.match(/{{[^}}]*}}/gm))&&s.forEach((e=>{var s=`<span has-lfdeps lfdep--${s=e.replace("{{","").replace("}}","")}>${null!=(s=a[s])?s:""}</span>`;t=t.replace(e,s)})),t}(a,s);var i=class extends HTMLElement{constructor(){super()}static get observedAttributes(){return s._stateVars.map((e=>e.toLowerCase()))}connectedCallback(){this.innerHTML=a,this.addListeners(),this.dependencyTree=this.parseDependencies();var e=Object.assign(Object.assign({},t),this.getRenderHooks({data:s,hooks:t}));this.state=function(e,a){const{data:s={},hooks:t={}}=a;return new Proxy(s,{get:(e,a)=>"addHook"===a?(e,a)=>{t[e]||(t[e]=[]),t[e].push(a)}:Reflect.get(e,a),set(a,s,n){const i=a[s];return Reflect.set(a,s,n),null!=(a=t[s])&&a.forEach((a=>a.call(e,n,i))),n}})}(this,{data:s,hooks:e}),this.handlers=n,this.state._stateVars.forEach((e=>{this.hasAttribute(e)&&this.state&&(this.state[e]=this.getAttribute(e))}))}attributeChangedCallback(e,a,t){var n;this.state&&(n=s._stateVars.find((a=>a.toLowerCase()===e)),this.state[n]=t)}parseDependencies(){const e={};return this.querySelectorAll("[has-lfdeps]").forEach((a=>{a.getAttributeNames().filter((e=>e.startsWith("lfdep"))).forEach((t=>{let[,n,i]=t.split("-");(i=s._stateVars.find((e=>e.toLowerCase()===i)))&&(e[i]||(e[i]=[]),e[i].push({el:a,attribute:n,innerText:!n}))}))})),e}getRenderHooks({data:e,hooks:a}){return Object.keys(e).reduce(((e,s)=>(e[s]=a[s]||[],e[s].push((e=>{var a;this.dependencyTree&&null!=(a=this.dependencyTree[s])&&a.forEach((({el:a,attribute:s})=>{s?a.setAttribute(s,e):a.innerText=e}))})),e)),{})}addListeners(){this.querySelectorAll("[lfbind]").forEach((e=>{const[a,s]=e.getAttribute("lfbind").split(":");e.addEventListener(s,(e=>{this.state[a]=e.detail||e.target.value}))})),this.querySelectorAll("[lfhandle]").forEach((e=>{const[a,s]=e.getAttribute("lfhandle").split(":");e.addEventListener(s,(e=>{this.handlers[a].call(this,e),e.stopImmediatePropagation()}))}))}};window.customElements.define(e,i)}function a(e,a="ESV"){let s=JSON.parse(e);return s=s.reduce(((e,a)=>e.concat(function(e){const a=e.match(/[0-9]? ?[A-Za-z]*/)[0],s=e.replace(a,"").trim().split(/:| /)[0];return e.split(",").map(((e,t)=>t?`${a} ${s}:${e}`:e))}(a))),[]),s.map((e=>`<a target="_blank" href="${function(e,a="ESV"){return`http://www.biblegateway.com/passage/?search=${e}&version=${a}`}(e,a)}" class="verse chip">${e}</a>`)).join("")}e({name:"email-input",template:'\n<h3>Paste the body of the email here</h3>\n<textarea lfbind="emailBody:input"></textarea>\n',data:{isUntouched:!1},hooks:{emailBody:[function(e){if(!e)return;let a=e.match(function(){const e=Object.keys({"1 Mose":"Genesis","2 Mose":"Exodus","3 Mose":"Leviticus","4 Mose":"Numbers","5 Mose":"Deuteronomy",Josua:"Joshua",Richter:"Judges",Rut:"Ruth","1 Samuel":"1 Samuel","2 Samuel":"2 Samuel","1 Könige":"1 Kings","2 Könige":"2 Kings","1 Chronik":"1 Chronicles","2 Chronik":"2 Chronicles",Esra:"Ezra",Nehemia:"Nehemiah",Esther:"Esther",Hiob:"Job",Psalm:"Psalms",Psalmen:"Psalms",Sprüche:"Proverbs",Prediger:"Ecclesiastes",Hoheslied:"Song of Solomon",Jesaja:"Isaiah",Jeremia:"Jeremiah",Klagelieder:"Lamentations",Hesekiel:"Ezekiel",Daniel:"Daniel",Hosea:"Hosea",Joel:"Joel",Amos:"Amos",Obadja:"Obadiah",Jona:"Jonah",Micha:"Micah",Nahum:"Nahum",Habakuk:"Habakkuk",Zefanja:"Zephaniah",Haggai:"Haggai",Sacharja:"Zechariah",Maleachi:"Malachi",Matthäus:"Matthew",Markus:"Mark",Lukas:"Luke",Johannes:"John",Apostelgeschichte:"Acts",Römer:"Romans","1 Korinther":"1 Corinthians","2 Korinther":"2 Corinthians",Galater:"Galatians",Epheser:"Ephesians",Philipper:"Philippians",Kolosser:"Colossians","1 Thessalonicher":"1 Thessalonians","2 Thessalonicher":"2 Thessalonians","1 Timotheus":"1 Timothy","2 Timotheus":"2 Timothy",Titus:"Titus",Philemon:"Philemon",Hebräer:"Hebrews",Jakobus:"James","1 Petrus":"1 Peter","2 Petrus":"2 Peter","1 Johannes":"1 John","2 Johannes":"2 John","3 Johannes":"3 John",Judas:"Jude",Offenbarung:"Revelation"}).reduce(((e,a)=>([1,2,3,4,5].forEach((e=>{a=a.replace(e.toString(),`${e}.?`)})),e.push(a),e)),[]).join("|");return new RegExp(`(${e})[0-9|:| |,|-]+`,"gmi")}()).map((e=>e.trim())).map((e=>{const a=e.match(/[0-9]?\.? ?[\u00C0-\u017FA-Za-z]+/)[0].replace(".",""),s={"1 Mose":"Genesis","2 Mose":"Exodus","3 Mose":"Leviticus","4 Mose":"Numbers","5 Mose":"Deuteronomy",Josua:"Joshua",Richter:"Judges",Rut:"Ruth","1 Samuel":"1 Samuel","2 Samuel":"2 Samuel","1 Könige":"1 Kings","2 Könige":"2 Kings","1 Chronik":"1 Chronicles","2 Chronik":"2 Chronicles",Esra:"Ezra",Nehemia:"Nehemiah",Esther:"Esther",Hiob:"Job",Psalm:"Psalms",Psalmen:"Psalms",Sprüche:"Proverbs",Prediger:"Ecclesiastes",Hoheslied:"Song of Solomon",Jesaja:"Isaiah",Jeremia:"Jeremiah",Klagelieder:"Lamentations",Hesekiel:"Ezekiel",Daniel:"Daniel",Hosea:"Hosea",Joel:"Joel",Amos:"Amos",Obadja:"Obadiah",Jona:"Jonah",Micha:"Micah",Nahum:"Nahum",Habakuk:"Habakkuk",Zefanja:"Zephaniah",Haggai:"Haggai",Sacharja:"Zechariah",Maleachi:"Malachi",Matthäus:"Matthew",Markus:"Mark",Lukas:"Luke",Johannes:"John",Apostelgeschichte:"Acts",Römer:"Romans","1 Korinther":"1 Corinthians","2 Korinther":"2 Corinthians",Galater:"Galatians",Epheser:"Ephesians",Philipper:"Philippians",Kolosser:"Colossians","1 Thessalonicher":"1 Thessalonians","2 Thessalonicher":"2 Thessalonians","1 Timotheus":"1 Timothy","2 Timotheus":"2 Timothy",Titus:"Titus",Philemon:"Philemon",Hebräer:"Hebrews",Jakobus:"James","1 Petrus":"1 Peter","2 Petrus":"2 Peter","1 Johannes":"1 John","2 Johannes":"2 John","3 Johannes":"3 John",Judas:"Jude",Offenbarung:"Revelation"}[a];let t=a;return Number(a[0])&&[1,2,3,4,5].forEach((e=>{t=t.replace(e.toString(),`${e}.?`)})),e.replace(new RegExp(t),s)}));this.dispatchEvent(new CustomEvent("englishVerses",{detail:a}))}]}}),e({name:"verse-renderer",template:'\n<div class="version-wrapper">\n  Translation:&nbsp;\n  <input lfbind="version:input" style="font-size: 12pt;" list="suggested-translations" placeholder="Select translation">\n  <datalist id="suggested-translations">\n      <option value="ESV">\n      <option value="NIV">\n      <option value="NKJV">\n      <option value="NTV">\n      <option value="RVR1960">\n  </datalist>\n</div>\n<div class="links-wrapper"></div>\n',data:{verses:"[]",version:"ESV"},hooks:{verses:[function(e){this.style.display="block",this.querySelector(".links-wrapper").innerHTML=a(e,this.state.version)}],version:[function(e){this.querySelector(".links-wrapper").innerHTML=a(this.state.verses,e)}]}});const s=document.querySelector("email-input"),t=document.querySelector("verse-renderer");s.addEventListener("englishVerses",(e=>{t.setAttribute("verses",JSON.stringify(e.detail))}))})()})();